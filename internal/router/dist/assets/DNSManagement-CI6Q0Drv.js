import{$ as e,B as t,F as n,H as r,I as i,J as a,K as o,L as s,N as c,O as l,P as u,R as d,U as f,W as p,X as m,Z as h,d as g,et as _,f as v,it as y,m as b,nt as x,ot as S,p as C,q as w,r as T,rt as E,st as D,tt as O,z as k}from"./index-D2sG8U7P.js";function A(e,t){return T({url:`/api/v1/dns/page`,method:`get`,params:{page:e,page_size:t}})}function j(e){return T({url:`/api/v1/dns`,method:`post`,data:e})}function M(e){return T({url:`/api/v1/dns/${e}`,method:`delete`})}function N(e){return T({url:`/api/v1/dns/${e}/records`,method:`get`})}function P(e,t){return T({url:`/api/v1/dns/${e}/records`,method:`post`,data:t})}function F(e,t,n){return T({url:`/api/v1/dns/${e}/records/${t}`,method:`put`,data:n})}function I(e,t){return T({url:`/api/v1/dns/${e}/records/${t}`,method:`delete`})}async function L(e){try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(e),!0;{let t=document.createElement(`textarea`);t.value=e,t.style.top=`0`,t.style.left=`0`,t.style.position=`fixed`,t.style.opacity=`0`,document.body.appendChild(t),t.focus(),t.select();let n=document.execCommand(`copy`);return document.body.removeChild(t),n}}catch(e){return console.error(`复制失败:`,e),!1}}var R={class:`domain-list-container`},z={class:`toolbar mb-4`},B={class:`table-wrapper`},V=[`onClick`],H={key:0,class:`pagination-container`},U=g(p({__name:`DomainList`,emits:[`view-records`,`refresh-domains`,`create-domain`],setup(e,{expose:n,emit:a}){let c=a,p=E([]),g=E(1),b=E(10),x=E(0),T=E(``),D=E(!1),j=i(()=>{if(!T.value)return p.value;let e=T.value.toLowerCase();return p.value.filter(t=>t.name.toLowerCase().includes(e))});o(()=>{N()});async function N(){D.value=!0;try{let e=await A(g.value,b.value),t=e.data?.domains||[];x.value=e.data?.total||0,p.value=t.map(e=>({name:e.name,record_count:e.record_count,recordCount:e.record_count})),p.value.sort((e,t)=>e.name.localeCompare(t.name,void 0,{sensitivity:`base`}))}catch{C.error(`获取域名列表失败`)}finally{D.value=!1}}function P(){c(`create-domain`)}function F(e){c(`view-records`,e)}async function I(e){try{await v.confirm(`确定要删除域名 ${e} 吗？此操作无法撤销。`,`确认删除`,{confirmButtonText:`确定`,cancelButtonText:`取消`,type:`warning`}),await M(e),C.success(`删除成功`),x.value--,p.value.length===1&&g.value>1&&g.value--,N()}catch(e){e!==`cancel`&&C.error(`域名删除失败`)}}async function U(e){await L(e)?C.success(`已复制`):C.error(`复制失败`)}function W(e){g.value=e,N()}function G(e){b.value=e,g.value=1,N()}return n({fetchDomainList:N,currentPage:g,pageSize:b,total:x}),(e,n)=>{let i=m(`el-input`),a=m(`el-icon`),o=m(`el-button`),c=m(`el-table-column`),p=m(`el-table`),v=m(`el-pagination`),C=m(`el-card`),E=h(`loading`);return w(),t(`div`,R,[f(C,{class:`custom-card`},{default:_(()=>[s(`div`,z,[f(i,{modelValue:T.value,"onUpdate:modelValue":n[0]||=e=>T.value=e,placeholder:`搜索域名`,clearable:``,"prefix-icon":`Search`},null,8,[`modelValue`]),f(o,{type:`primary`,onClick:N},{default:_(()=>[f(a,null,{default:_(()=>[f(y(l))]),_:1}),n[3]||=r(` 刷新 `,-1)]),_:1}),f(o,{type:`primary`,onClick:P},{default:_(()=>[...n[4]||=[r(`创建域名`,-1)]]),_:1})]),s(`div`,B,[O((w(),d(p,{data:j.value,style:{width:`100%`,height:`auto`},"row-key":`name`,stripe:``,border:``,"empty-text":`暂无域名数据`,class:`auto-height-table responsive-table`},{default:_(()=>[f(c,{prop:`name`,label:`域名名称`,"min-width":`150`,"max-width":`400`,"show-overflow-tooltip":``},{default:_(({row:e})=>[s(`div`,{class:`domain-name-cell`,onClick:t=>U(e.name)},S(e.name),9,V)]),_:1}),f(c,{prop:`recordCount`,label:`记录数量`,width:`120`,align:`center`}),f(c,{label:`操作`,width:`200`},{default:_(({row:e})=>[f(o,{type:`primary`,link:``,onClick:t=>F(e.name)},{default:_(()=>[...n[5]||=[r(`查看记录`,-1)]]),_:1},8,[`onClick`]),f(o,{type:`danger`,link:``,onClick:u(t=>I(e.name),[`stop`])},{default:_(()=>[...n[6]||=[r(`删除`,-1)]]),_:1},8,[`onClick`])]),_:1})]),_:1},8,[`data`])),[[E,D.value]])]),x.value>0?(w(),t(`div`,H,[f(v,{"current-page":g.value,"onUpdate:currentPage":n[1]||=e=>g.value=e,"page-size":b.value,"onUpdate:pageSize":n[2]||=e=>b.value=e,"page-sizes":[5,10,20,50],layout:`total, sizes, prev, pager, next, jumper`,total:x.value,onSizeChange:G,onCurrentChange:W},null,8,[`current-page`,`page-size`,`total`])])):k(``,!0)]),_:1})])}}}),[[`__scopeId`,`data-v-d71fa315`]]),W={class:`record-list-container`},G={class:`toolbar mb-4`},K=[`onClick`],q={key:0,class:`pagination`},J=g(p({__name:`RecordList`,props:{domainName:{}},emits:[`back`,`edit-record`,`add-record`],setup(n,{expose:a,emit:c}){let d=n,p=c,h=E([]),g=E(``),b=E(``),x=E(1),T=E(20),D=i(()=>{let e=h.value;if(g.value){let t=g.value.toLowerCase();e=e.filter(e=>(e.name||``).toLowerCase().includes(t)||(e.value||``).toLowerCase().includes(t))}b.value&&(e=e.filter(e=>e.type===b.value));let t=(x.value-1)*T.value,n=t+T.value;return e.slice(t,n)}),O=i(()=>{let e=h.value;if(g.value){let t=g.value.toLowerCase();e=e.filter(e=>(e.name||``).toLowerCase().includes(t)||(e.value||``).toLowerCase().includes(t))}return b.value&&(e=e.filter(e=>e.type===b.value)),e.length});e(()=>d.domainName,e=>{e&&j()}),o(()=>{d.domainName&&j()});function A(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}async function j(){if(d.domainName)try{let e=await N(d.domainName);e&&e.data&&Array.isArray(e.data.items)?h.value=e.data.items.map(e=>({id:A(),name:e.Name||``,type:e.Type||``,value:e.Value||``,ttl:e.TTL||300})):h.value=[],x.value=1}catch{C.error(`获取记录列表失败`)}}function M(){p(`add-record`)}function P(e){p(`edit-record`,e)}async function F(e){if(d.domainName)try{await v.confirm(`确定要删除记录 ${e} 吗？此操作无法撤销。`,`确认删除`,{confirmButtonText:`确定`,cancelButtonText:`取消`,type:`warning`}),await I(d.domainName,e),C.success(`记录删除成功`);let t=h.value.findIndex(t=>t.name===e);t!==-1&&h.value.splice(t,1)}catch(e){typeof e==`string`&&e===`cancel`||C.error(`记录删除失败`)}}function R(e){let t={...e,id:e.id||A()};h.value.push(t)}function z(e,t){let n=h.value.findIndex(t=>t.name===e);n!==-1&&h.value[n]&&(h.value[n]={...t,id:h.value[n].id})}a({fetchRecords:j,addRecordLocally:R,updateRecordLocally:z});async function B(e){await L(e)?C.success(`已复制`):C.error(`复制失败`)}function V(e){T.value=e,x.value=1}function H(e){x.value=e}return(e,n)=>{let i=m(`el-input`),a=m(`el-option`),o=m(`el-select`),c=m(`el-icon`),d=m(`el-button`),p=m(`el-table-column`),h=m(`el-table`),v=m(`el-pagination`),C=m(`el-card`);return w(),t(`div`,W,[f(C,{class:`mb-4 custom-card`},{default:_(()=>[s(`div`,G,[f(i,{modelValue:g.value,"onUpdate:modelValue":n[0]||=e=>g.value=e,placeholder:`搜索记录`,clearable:``,"prefix-icon":`Search`},null,8,[`modelValue`]),f(o,{modelValue:b.value,"onUpdate:modelValue":n[1]||=e=>b.value=e,placeholder:`筛选记录类型`,clearable:``},{default:_(()=>[f(a,{label:`A`,value:`A`}),f(a,{label:`CNAME`,value:`CNAME`}),f(a,{label:`MX`,value:`MX`}),f(a,{label:`TXT`,value:`TXT`})]),_:1},8,[`modelValue`]),f(d,{type:`primary`,onClick:j},{default:_(()=>[f(c,null,{default:_(()=>[f(y(l))]),_:1}),n[4]||=r(` 刷新 `,-1)]),_:1}),f(d,{type:`primary`,onClick:M},{default:_(()=>[...n[5]||=[r(`添加记录`,-1)]]),_:1})]),f(h,{data:D.value,style:{width:`100%`},"row-key":`id`,stripe:``,border:``},{default:_(()=>[f(p,{prop:`name`,label:`记录名称`,"min-width":`200`},{default:_(({row:e})=>[s(`div`,{onClick:t=>B(e.name)},S(e.name),9,K)]),_:1}),f(p,{prop:`type`,label:`记录类型`,width:`200`}),f(p,{prop:`value`,label:`记录值`,"min-width":`200`}),f(p,{prop:`ttl`,label:`TTL`,width:`100`}),f(p,{label:`操作`,width:`200`,fixed:`right`},{default:_(({row:e})=>[f(d,{type:`primary`,link:``,onClick:t=>P(e)},{default:_(()=>[...n[6]||=[r(`编辑`,-1)]]),_:1},8,[`onClick`]),f(d,{type:`danger`,link:``,onClick:u(t=>F(e.name),[`stop`])},{default:_(()=>[...n[7]||=[r(`删除`,-1)]]),_:1},8,[`onClick`])]),_:1})]),_:1},8,[`data`]),O.value>T.value?(w(),t(`div`,q,[f(v,{"current-page":x.value,"onUpdate:currentPage":n[2]||=e=>x.value=e,"page-size":T.value,"onUpdate:pageSize":n[3]||=e=>T.value=e,"page-sizes":[10,20,50,100],layout:`total, sizes, prev, pager, next, jumper`,total:O.value,onSizeChange:V,onCurrentChange:H},null,8,[`current-page`,`page-size`,`total`])])):k(``,!0)]),_:1})])}}}),[[`__scopeId`,`data-v-a4c55198`]]),Y={class:`domain-input-container`},X={key:0,class:`empty-records`},Z=g(p({__name:`DomainDialog`,emits:[`domain-created`,`domain-updated`],setup(e,{expose:o,emit:l}){let u=l,p=E(),h=E(!1),g=E(``),v=x({name:``,records:[]}),S=x({name:[{required:!0,message:`请输入域名名称`,trigger:`blur`},{pattern:/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/,message:`请输入有效的域名格式`,trigger:`blur`},{validator:(e,t,n)=>{if(!t){n(Error(`请输入域名名称`));return}(t.match(/\./g)||[]).length===1?n():n(Error(`请输入顶级域名，如example.com`))},trigger:`blur`}]}),T=x({name:[{required:!0,message:`请输入记录名称`,trigger:`blur`}],type:[{required:!0,message:`请选择记录类型`,trigger:`change`}],value:[{required:!0,message:`请输入记录值`,trigger:`blur`}],ttl:[{required:!0,message:`请输入TTL值`,trigger:`blur`},{type:`number`,min:60,message:`TTL值最小为60秒`,trigger:`blur`},{type:`number`,max:86400,message:`TTL值最大为86400秒`,trigger:`blur`}]}),D=i(()=>g.value?`编辑`:`创建`);o({openCreateDialog:()=>{P(),g.value=``,h.value=!0}});function O(e){switch(e){case`A`:return`IPv4地址，如 192.168.1.1`;case`CNAME`:return`目标域名，如 example.com`;case`MX`:return`邮件服务器地址，如 mail.example.com`;case`TXT`:return`文本内容`;default:return`请输入记录值`}}function A(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}function M(){v.records.push({id:A(),name:``,type:`A`,value:``,ttl:300})}function N(e){v.records.splice(e,1)}function P(){p.value&&p.value.resetFields(),v.name=``,v.records=[]}function F(){P()}function I(){P(),h.value=!1}async function L(){if(p.value)try{await p.value.validate();let e=!0;for(let t=0;t<v.records.length;t++){let n=v.records[t];if(!n){C.error(`第 ${t+1} 条记录：记录数据不完整`),e=!1;break}if(!n.name){C.error(`第 ${t+1} 条记录：请输入记录名称`),e=!1;break}if(!n.type){C.error(`第 ${t+1} 条记录：请选择记录类型`),e=!1;break}if(!n.value){C.error(`第 ${t+1} 条记录：请输入记录值`),e=!1;break}if(n.type===`A`&&!/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(n.value)){C.error(`第 ${t+1} 条记录：请输入有效的IPv4地址格式`),e=!1;break}}if(!e)return;await j(v),u(`domain-created`),h.value=!1,P()}catch(e){typeof e==`string`&&e!==`cancel`&&C.error(`创建失败`)}}return(e,i)=>{let o=m(`el-input`),l=m(`el-button`),u=m(`el-form-item`),g=m(`el-alert`),x=m(`el-option`),C=m(`el-select`),E=m(`el-dialog`);return w(),d(E,{modelValue:h.value,"onUpdate:modelValue":i[1]||=e=>h.value=e,title:D.value,width:`60%`,onClose:F},{footer:_(()=>[f(l,{onClick:I},{default:_(()=>[...i[4]||=[r(`取消`,-1)]]),_:1}),f(l,{type:`primary`,onClick:L},{default:_(()=>[...i[5]||=[r(`确定`,-1)]]),_:1})]),default:_(()=>[f(y(b),{model:v,"label-width":`100px`,rules:S,ref_key:`domainFormRef`,ref:p},{default:_(()=>[f(u,{label:`域名名称`,prop:`name`},{default:_(()=>[s(`div`,Y,[f(o,{modelValue:v.name,"onUpdate:modelValue":i[0]||=e=>v.name=e,placeholder:`请输入顶级域名，如 example.com`,clearable:``,class:`short-input`,onKeyup:c(L,[`enter`])},null,8,[`modelValue`]),f(l,{type:`primary`,onClick:M,class:`add-record-btn`},{default:_(()=>[...i[2]||=[r(`添加记录`,-1)]]),_:1})])]),_:1}),f(u,{label:`记录列表`,class:`records-section right-aligned`},{default:_(()=>[v.records.length===0?(w(),t(`div`,X,[f(g,{title:`未添加任何记录`,type:`info`,"show-icon":``,description:`您可以添加初始记录，或者创建域名后再添加记录`})])):k(``,!0),(w(!0),t(n,null,a(v.records,(e,n)=>(w(),t(`div`,{key:e.id||n,class:`record-item`},[f(u,{prop:`records.${n}.name`,rules:T.name,class:`record-name`},{default:_(()=>[f(o,{modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,placeholder:`记录名称，如 www`,clearable:``,onKeyup:c(L,[`enter`])},null,8,[`modelValue`,`onUpdate:modelValue`])]),_:2},1032,[`prop`,`rules`]),f(u,{prop:`records.${n}.type`,rules:T.type,class:`record-type`},{default:_(()=>[f(C,{modelValue:e.type,"onUpdate:modelValue":t=>e.type=t,placeholder:`记录类型`},{default:_(()=>[f(x,{label:`A`,value:`A`}),f(x,{label:`CNAME`,value:`CNAME`}),f(x,{label:`MX`,value:`MX`}),f(x,{label:`TXT`,value:`TXT`})]),_:1},8,[`modelValue`,`onUpdate:modelValue`])]),_:2},1032,[`prop`,`rules`]),f(u,{prop:`records.${n}.value`,rules:T.value,class:`record-value`},{default:_(()=>[f(o,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,placeholder:O(e.type),clearable:``,onKeyup:c(L,[`enter`])},null,8,[`modelValue`,`onUpdate:modelValue`,`placeholder`])]),_:2},1032,[`prop`,`rules`]),f(u,{prop:`records.${n}.ttl`,rules:T.ttl,class:`record-ttl`},{default:_(()=>[f(o,{modelValue:e.ttl,"onUpdate:modelValue":t=>e.ttl=t,modelModifiers:{number:!0},placeholder:`TTL`,type:`number`,min:60,max:86400,onKeyup:c(L,[`enter`])},null,8,[`modelValue`,`onUpdate:modelValue`])]),_:2},1032,[`prop`,`rules`]),f(u,{class:`record-action`},{default:_(()=>[f(l,{type:`danger`,onClick:e=>N(n)},{default:_(()=>[...i[3]||=[r(`删除`,-1)]]),_:1},8,[`onClick`])]),_:2},1024)]))),128))]),_:1})]),_:1},8,[`model`,`rules`])]),_:1},8,[`modelValue`,`title`])}}}),[[`__scopeId`,`data-v-4f01a51c`]]),Q={class:`domain-suffix`},$=g(p({__name:`RecordDialog`,props:{domainName:{}},emits:[`record-created`,`record-updated`],setup(t,{expose:n,emit:a}){let o=t,l=a,u=E(),p=E(!1),h=E(null),g=x({name:``,type:`A`,value:``,ttl:300,priority:10}),v=x({name:[{message:`请输入记录名称`,trigger:`blur`}],type:[{required:!0,message:`请选择记录类型`,trigger:`change`}],value:[{required:!0,message:`请输入记录值`,trigger:`blur`},{validator:(e,t,n)=>{if(!t){n(Error(`请输入记录值`));return}switch(g.type){case`A`:if(!/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(t)){n(Error(`请输入有效的IPv4地址格式`));return}let e=t.split(`.`).map(Number);for(let t of e)if(t<0||t>255){n(Error(`请输入有效的IPv4地址格式`));return}break;case`CNAME`:if(!/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/.test(t)){n(Error(`请输入有效的域名格式`));return}break;case`MX`:if(!/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/.test(t)){n(Error(`请输入有效的邮件服务器地址`));return}break}n()},trigger:`blur`}],ttl:[{required:!0,message:`请输入TTL值`,trigger:`blur`},{type:`number`,min:60,message:`TTL值最小为60秒`,trigger:`blur`},{type:`number`,max:86400,message:`TTL值最大为86400秒`,trigger:`blur`}],priority:[{message:`MX记录必须设置优先级`,trigger:`blur`,validator:(e,t,n)=>{if(g.type===`MX`){if(t==null||t===``){n(Error(`MX记录必须设置优先级`));return}if(t<0||t>100){n(Error(`优先级必须在0-100之间`));return}}n()}}]});e(()=>o.domainName,()=>{M()});let T=i(()=>h.value?`编辑`:`添加`);n({openCreateDialog:()=>{M(),h.value=null,p.value=!0},openEditDialog:e=>{M(),h.value=e,g.name=A(e.name)||``,g.type=e.type,g.value=e.value,g.ttl=e.ttl,g.priority=e.priority||10,p.value=!0}});function D(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}function O(e){switch(e){case`A`:return`IPv4地址，如 192.168.1.1`;case`CNAME`:return`目标域名，如 example.com`;case`MX`:return`邮件服务器地址，如 mail.example.com`;case`TXT`:return`文本内容`;default:return`请输入记录值`}}function A(e){if(!e)return``;if(e===o.domainName)return`@`;let t=`.${o.domainName}`;return e.endsWith(t)?e.slice(0,-t.length):e}function j(e){return!e||e===`@`?o.domainName:`${e}.${o.domainName}`}function M(){u.value&&u.value.resetFields(),g.name=``,g.type=`A`,g.value=``,g.ttl=300,g.priority=10,h.value=null}function N(){M()}function I(){M(),p.value=!1}async function L(){if(!(!u.value||!o.domainName))try{await u.value.validate();let e=j(g.name);if(h.value){let t={name:e,type:g.type,value:g.value,ttl:g.ttl};g.type===`MX`&&(t.priority=g.priority);let n=h.value.name;await F(o.domainName,n,t);let r={id:h.value.id,name:e,type:g.type,value:g.value,ttl:g.ttl};g.type===`MX`&&(r.priority=g.priority),l(`record-updated`,n,r)}else{let t={name:e,type:g.type,value:g.value,ttl:g.ttl};g.type===`MX`&&(t.priority=g.priority),await P(o.domainName,t);let n={id:D(),name:e,type:g.type,value:g.value,ttl:g.ttl};g.type===`MX`&&(n.priority=g.priority),l(`record-created`,n)}p.value=!1,M()}catch(e){typeof e==`string`&&e!==`cancel`&&C.error(`创建失败`)}}return(e,n)=>{let i=m(`el-input`),a=m(`el-form-item`),o=m(`el-option`),l=m(`el-select`),h=m(`el-input-number`),x=m(`el-button`),C=m(`el-dialog`);return w(),d(C,{modelValue:p.value,"onUpdate:modelValue":n[5]||=e=>p.value=e,title:T.value,width:`50%`,onClose:N},{footer:_(()=>[f(x,{onClick:I},{default:_(()=>[...n[10]||=[r(`取消`,-1)]]),_:1}),f(x,{type:`primary`,onClick:L},{default:_(()=>[...n[11]||=[r(`确定`,-1)]]),_:1})]),default:_(()=>[f(y(b),{model:g,"label-width":`100px`,rules:v,ref_key:`recordFormRef`,ref:u},{default:_(()=>[f(a,{label:`记录名称`,prop:`name`},{default:_(()=>[f(i,{modelValue:g.name,"onUpdate:modelValue":n[0]||=e=>g.name=e,placeholder:`记录名称，如 www (将生成 www.${t.domainName})`,clearable:``,onKeyup:c(L,[`enter`])},{append:_(()=>[s(`span`,Q,`.`+S(t.domainName),1)]),_:1},8,[`modelValue`,`placeholder`]),n[6]||=s(`div`,{class:`helper-text`},`留空表示直接使用域名`,-1)]),_:1}),f(a,{label:`记录类型`,prop:`type`},{default:_(()=>[f(l,{modelValue:g.type,"onUpdate:modelValue":n[1]||=e=>g.type=e,placeholder:`请选择记录类型`},{default:_(()=>[f(o,{label:`A`,value:`A`}),f(o,{label:`CNAME`,value:`CNAME`}),f(o,{label:`MX`,value:`MX`}),f(o,{label:`TXT`,value:`TXT`})]),_:1},8,[`modelValue`])]),_:1}),f(a,{label:`记录值`,prop:`value`},{default:_(()=>[f(i,{modelValue:g.value,"onUpdate:modelValue":n[2]||=e=>g.value=e,placeholder:O(g.type),type:g.type===`TXT`?`textarea`:`text`,rows:g.type===`TXT`?3:1,clearable:``,onKeyup:c(L,[`enter`])},null,8,[`modelValue`,`placeholder`,`type`,`rows`])]),_:1}),f(a,{label:`TTL值`,prop:`ttl`},{default:_(()=>[f(h,{modelValue:g.ttl,"onUpdate:modelValue":n[3]||=e=>g.ttl=e,min:60,max:86400,step:60,placeholder:`TTL值(秒)`,onKeyup:c(L,[`enter`])},{append:_(()=>[...n[7]||=[r(`秒`,-1)]]),_:1},8,[`modelValue`]),n[8]||=s(`div`,{class:`helper-text`},`建议设置为300-3600秒`,-1)]),_:1}),g.type===`MX`?(w(),d(a,{key:0,label:`优先级`,prop:`priority`},{default:_(()=>[f(h,{modelValue:g.priority,"onUpdate:modelValue":n[4]||=e=>g.priority=e,min:0,max:100,step:1,placeholder:`MX记录优先级`,onKeyup:c(L,[`enter`])},null,8,[`modelValue`]),n[9]||=s(`div`,{class:`helper-text`},`数值越小优先级越高`,-1)]),_:1})):k(``,!0)]),_:1},8,[`model`,`rules`])]),_:1},8,[`modelValue`,`title`])}}}),[[`__scopeId`,`data-v-140d9666`]]),ee={class:`dns-container`},te=g(p({__name:`DNSManagement`,setup(e){let n=E(``),r=E(!1),i=E(),a=E(),o=E(null),s=E();function c(){i.value?.openCreateDialog()}function l(e){n.value=e,r.value=!0}function u(){r.value=!1,setTimeout(()=>{n.value=``},300)}function p(){C.success(`创建成功`),s.value&&s.value.fetchDomainList()}function h(){C.success(`更新成功`)}function g(){a.value?.openCreateDialog()}function v(e){a.value?.openEditDialog(e)}function y(e){C.success(`创建成功`),o.value?.addRecordLocally(e)}function b(e,t){C.success(`更新成功`),o.value?.updateRecordLocally(e,t)}return(e,x)=>{let S=m(`el-dialog`);return w(),t(`div`,ee,[f(U,{onViewRecords:l,onCreateDomain:c,ref_key:`domainListRef`,ref:s},null,512),f(S,{modelValue:r.value,"onUpdate:modelValue":x[0]||=e=>r.value=e,width:`90%`,"before-close":u},{default:_(()=>[n.value?(w(),d(J,{key:0,"domain-name":n.value,onBack:u,onAddRecord:g,onEditRecord:v,ref_key:`recordListRef`,ref:o},null,8,[`domain-name`])):k(``,!0)]),_:1},8,[`modelValue`]),f(Z,{ref_key:`domainDialogRef`,ref:i,onDomainCreated:p,onDomainUpdated:h},null,512),f($,{ref_key:`recordDialogRef`,ref:a,"domain-name":n.value,onRecordCreated:y,onRecordUpdated:b},null,8,[`domain-name`])])}}}),[[`__scopeId`,`data-v-488c5d01`]]);export{te as default};