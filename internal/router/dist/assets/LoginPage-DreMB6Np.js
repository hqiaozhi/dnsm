import{B as e,H as t,L as n,U as r,W as i,X as a,a as o,d as s,et as c,nt as l,o as u,ot as d,p as f,q as p,rt as m,s as h,st as g,u as _}from"./index-D2sG8U7P.js";import{t as v}from"./useAuth-c9ZtI_dd.js";var y={class:`login-container`},b={class:`login-form-wrapper`},x={class:`form-options`},S=s(i({__name:`LoginPage`,setup(i){let s=_(),{login:g}=v(),S=m(),C=m(!1),w=l({username:``,password:``,rememberMe:!1}),T=l({username:[{required:!0,message:`请输入用户名`,trigger:`blur`},{min:3,max:20,message:`用户名长度应在3-20个字符之间`,trigger:`blur`}],password:[{required:!0,message:`请输入密码`,trigger:`blur`},{min:6,max:20,message:`密码长度应在6-20个字符之间`,trigger:`blur`}]}),E=async()=>{if(S.value)try{await S.value.validate(),C.value=!0,await g(w.username,w.password),w.rememberMe?h(w.username,w.password):u(),s.push(`/admin/dns`)}catch{}finally{C.value=!1}},D=()=>{f.info(`忘记密码功能暂未开放`)};return(()=>{let e=o();e&&(w.username=e.username,w.password=e.password,w.rememberMe=!0)})(),(i,o)=>{let s=a(`el-input`),l=a(`el-form-item`),u=a(`el-checkbox`),f=a(`el-link`),m=a(`el-button`),h=a(`el-form`);return p(),e(`div`,y,[o[6]||=n(`div`,{class:`platform-title`},[n(`h1`,null,`DNSM域名解析管理系统`)],-1),n(`div`,b,[o[5]||=n(`h2`,{class:`login-title`},`用户登录`,-1),r(h,{ref_key:`loginFormRef`,ref:S,model:w,rules:T,class:`login-form`,"label-position":`top`},{default:c(()=>[r(l,{label:`用户名`,prop:`username`},{default:c(()=>[r(s,{modelValue:w.username,"onUpdate:modelValue":o[0]||=e=>w.username=e,placeholder:`请输入用户名`,"prefix-icon":`el-icon-user`,autocomplete:`username`},null,8,[`modelValue`])]),_:1}),r(l,{label:`密码`,prop:`password`},{default:c(()=>[r(s,{modelValue:w.password,"onUpdate:modelValue":o[1]||=e=>w.password=e,type:`password`,placeholder:`请输入密码`,"prefix-icon":`el-icon-lock`,"show-password":``,autocomplete:`current-password`},null,8,[`modelValue`])]),_:1}),r(l,null,{default:c(()=>[n(`div`,x,[r(u,{modelValue:w.rememberMe,"onUpdate:modelValue":o[2]||=e=>w.rememberMe=e},{default:c(()=>[...o[3]||=[t(`记住我`,-1)]]),_:1},8,[`modelValue`]),r(f,{type:`primary`,underline:!1,onClick:D,class:`forgot-password-link`},{default:c(()=>[...o[4]||=[t(`忘记密码?`,-1)]]),_:1})])]),_:1}),r(l,null,{default:c(()=>[r(m,{type:`primary`,class:`login-button`,loading:C.value,onClick:E,disabled:C.value},{default:c(()=>[t(d(C.value?`登录中...`:`登录`),1)]),_:1},8,[`loading`,`disabled`])]),_:1})]),_:1},8,[`model`,`rules`])])])}}}),[[`__scopeId`,`data-v-c16c5ab6`]]);export{S as default};