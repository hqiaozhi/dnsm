import{$ as e,A as t,B as n,C as r,D as i,E as a,F as o,G as s,H as c,I as l,J as u,L as d,M as f,Q as p,R as m,S as h,T as g,U as _,V as v,W as y,X as b,Y as x,_ as S,at as C,b as w,c as T,d as E,et as D,g as O,h as k,i as A,it as j,j as M,k as N,l as P,ot as F,p as I,q as L,rt as R,st as ee,u as z,v as B,w as V,x as H,y as U,z as W}from"./index-Ctf1MH19.js";import{t as G}from"./useAuth-ye_QET5d.js";var K={class:`dropdown-menu`},q=E(y({__name:`DropdownMenu`,props:{type:{default:`default`},trigger:{default:`hover`},placement:{default:`bottom`},showTimeout:{default:250},hideTimeout:{default:150},items:{default:()=>[]},buttonType:{default:`primary`},buttonSize:{default:`default`},buttonText:{default:``},buttonIcon:{default:``},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},modelValue:{type:Boolean,default:void 0}},emits:[`command`,`visible-change`,`update:modelValue`],setup(t,{emit:r}){let i=t,a=r,s=R(!1);e(()=>i.modelValue,e=>{e!==void 0&&(s.value=e)},{immediate:!0});let l=e=>{i.trigger===`click`&&(s.value=!1,a(`update:modelValue`,!1)),a(`command`,e)},d=e=>{s.value=e,a(`update:modelValue`,e),a(`visible-change`,e)};return(e,r)=>(L(),n(`div`,K,[_(j(k),{type:t.type,trigger:t.trigger,placement:t.placement,"show-timeout":t.showTimeout,"hide-timeout":t.hideTimeout,visible:s.value,onCommand:l,onVisibleChange:d},{dropdown:D(()=>[_(j(S),null,{default:D(()=>[(L(!0),n(o,null,u(t.items,(e,t)=>(L(),m(j(O),{key:e.key||t,command:e.key,disabled:e.disabled,icon:e.icon,class:`centered-dropdown-item`},{default:D(()=>[e.template?(L(),m(p(e.template),{key:0,item:e},null,8,[`item`])):(L(),n(o,{key:1},[c(F(e.label),1)],64))]),_:2},1032,[`command`,`disabled`,`icon`]))),128))]),_:1})]),default:D(()=>[e.$slots.default?x(e.$slots,`default`,{key:0},void 0,!0):(L(),m(j(B),{key:1,type:t.buttonType,size:t.buttonSize,icon:t.buttonIcon,loading:t.loading,disabled:t.disabled},v({default:D(()=>[c(F(t.buttonText||`下拉菜单`)+` `,1)]),_:2},[t.buttonIcon?void 0:{name:`suffix`,fn:D(()=>[_(j(f),null,{default:D(()=>[_(j(w))]),_:1})]),key:`0`}]),1032,[`type`,`size`,`icon`,`loading`,`disabled`]))]),_:3},8,[`type`,`trigger`,`placement`,`show-timeout`,`hide-timeout`,`visible`])]))}}),[[`__scopeId`,`data-v-7ec45a53`]]),J={class:`user-menu`},Y={class:`user-info`},X=E(y({__name:`UserMenu`,setup(e){let t=R(!1),{logout:r}=G(),i=l(()=>[{key:`logout`,label:`退出登录`,icon:`SwitchButton`}]),a=e=>{switch(typeof e==`number`?e.toString():e){case`logout`:I.success(`退出成功`),setTimeout(()=>{o()},1e3);break}},o=async()=>{try{await r()}catch{I.error(`退出失败`)}};return(e,r)=>{let o=b(`el-icon`);return L(),n(`div`,J,[_(q,{items:i.value,"button-type":`text`,"button-size":`default`,placement:`bottom-end`,trigger:`click`,visible:t.value,"onUpdate:visible":r[0]||=e=>t.value=e,onCommand:a},{default:D(()=>[d(`div`,Y,[_(o,{size:20},{default:D(()=>[_(j(M))]),_:1}),_(o,{size:16,class:C([`arrow-icon`,{"is-open":t.value}])},{default:D(()=>[_(j(w))]),_:1},8,[`class`])])]),_:1},8,[`items`,`visible`])])}}}),[[`__scopeId`,`data-v-b9cb1313`]]),Z={class:`header-nav`},Q={class:`header-left`},$=[`src`],te={class:`header-center`},ne={class:`header-right`},re=E(y({__name:`HeaderNav`,props:{logo:{default:``},isSidebarCollapsed:{type:Boolean,default:!1}},emits:[`toggle-sidebar`],setup(e,{emit:t}){let r=t,i=z(),o=R(!1),s=()=>{i.push(`/home`)},c=()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),o.value=!1):(document.documentElement.requestFullscreen(),o.value=!0)},l=()=>{r(`toggle-sidebar`)};return(t,r)=>{let i=b(`el-icon`),u=b(`el-button`),f=b(`el-tooltip`);return L(),n(`div`,Z,[d(`div`,Q,[d(`div`,{class:`menu-toggle`,onClick:l},[_(i,null,{default:D(()=>[e.isSidebarCollapsed?(L(),m(j(V),{key:0})):(L(),m(j(g),{key:1}))]),_:1})]),d(`div`,{class:`logo`,onClick:s},[e.logo?(L(),n(`img`,{key:0,src:e.logo,alt:`Logo`,class:`logo-img`},null,8,$)):W(``,!0)])]),d(`div`,te,[x(t.$slots,`navigation`,{},void 0,!0)]),d(`div`,ne,[x(t.$slots,`actions`,{},()=>[_(f,{content:`全屏`,placement:`bottom`},{default:D(()=>[_(u,{class:`icon-button`,link:``,onClick:c},{default:D(()=>[_(i,{size:18},{default:D(()=>[o.value?(L(),m(j(U),{key:1})):(L(),m(j(a),{key:0}))]),_:1})]),_:1})]),_:1}),_(X)],!0)])])}}}),[[`__scopeId`,`data-v-a2bc44b7`]]),ie={key:0,class:`sidebar-header`},ae={key:0,class:`logo`},oe=[`src`],se={class:`title`},ce=E(y({__name:`SidebarMenu`,props:{title:{default:`DNSM域名解析管理系统`},logo:{default:``},menuItems:{default:()=>[]},uniqueOpened:{type:Boolean,default:!0},enableRouter:{type:Boolean,default:!0},collapsed:{type:Boolean,default:!1}},setup(a){let f=a,v=P(),y=z(),x=A(),S=R(`/admin/dns`);e(()=>v.path,e=>{S.value=e},{immediate:!0});let w={HomeFilled:i,User:M,Setting:t,Document:r,DataLine:h,Fold:g,Expand:V,Search:N,Bell:H},T=e=>e&&w[e]||null,E=e=>e?!!x.userInfo:!0,O=l(()=>[{index:`/admin/dns`,title:`域名列表`,icon:`HomeFilled`,route:`/admin/dns`}]),k=l(()=>f.menuItems.length>0?f.menuItems:O.value),j=l(()=>{let e=k.value,t=e=>e.filter(e=>E(e.permission)?(e.children&&e.children.length>0&&(e.children=t(e.children)),!0):!1);return t(e)}),I=e=>{S.value=e.index,s(()=>{e.route&&y.push(e.route)})};return(e,t)=>{let r=b(`el-icon`),i=b(`el-menu-item`),s=b(`el-sub-menu`),l=b(`el-menu`);return L(),n(`div`,{class:C([`sidebar-menu`,{collapsed:a.collapsed}])},[a.collapsed?W(``,!0):(L(),n(`div`,ie,[a.logo?(L(),n(`div`,ae,[d(`img`,{src:a.logo,alt:`Logo`,class:`logo-img`},null,8,oe)])):W(``,!0),d(`div`,se,F(a.title),1)])),_(l,{"default-active":S.value,collapse:a.collapsed,"collapse-transition":!1,"unique-opened":a.uniqueOpened,router:!1,class:`menu`},{default:D(()=>[(L(!0),n(o,null,u(j.value,e=>(L(),n(o,{key:e.index},[e.children&&e.children.length>0?(L(),m(s,{key:0,index:e.index},{title:D(()=>[e.icon?(L(),m(r,{key:0},{default:D(()=>[(L(),m(p(T(e.icon))))]),_:2},1024)):W(``,!0),d(`span`,null,F(e.title),1)]),default:D(()=>[(L(!0),n(o,null,u(e.children,e=>(L(),m(i,{key:e.index,index:e.index,onClick:t=>I(e)},{title:D(()=>[c(F(e.title),1)]),default:D(()=>[e.icon?(L(),m(r,{key:0},{default:D(()=>[(L(),m(p(T(e.icon))))]),_:2},1024)):W(``,!0)]),_:2},1032,[`index`,`onClick`]))),128))]),_:2},1032,[`index`])):(L(),m(i,{key:1,index:e.index,onClick:t=>I(e)},{title:D(()=>[c(F(e.title),1)]),default:D(()=>[e.icon?(L(),m(r,{key:0},{default:D(()=>[(L(),m(p(T(e.icon))))]),_:2},1024)):W(``,!0)]),_:2},1032,[`index`,`onClick`]))],64))),128))]),_:1},8,[`default-active`,`collapse`,`unique-opened`])],2)}}}),[[`__scopeId`,`data-v-c50f5807`]]),le={class:`main-layout`},ue={class:`layout-wrapper`},de={class:`layout-header`},fe={class:`layout-container`},pe={class:`layout-main`},me=E(y({__name:`MainLayout`,setup(e){let t=R(`DNSM域名解析管理系统`),r=R(!0),i=()=>{r.value=!r.value};return(e,a)=>(L(),n(`div`,le,[d(`div`,ue,[d(`aside`,{class:C([`layout-sidebar`,{collapsed:r.value}])},[_(ce,{title:t.value,collapsed:r.value},null,8,[`title`,`collapsed`])],2),d(`div`,{class:C([`layout-content`,{"sidebar-collapsed":r.value}])},[d(`header`,de,[_(re,{"is-sidebar-collapsed":r.value,onToggleSidebar:i},null,8,[`is-sidebar-collapsed`])]),d(`div`,fe,[d(`main`,pe,[_(j(T))])])],2),a[0]||=d(`footer`,{class:`layout-footer`},[d(`div`,{class:`footer-content`},[d(`span`,null,`© 2025 DNSM域名解析管理系统. All rights reserved.`)])],-1)])]))}}),[[`__scopeId`,`data-v-a525640f`]]);export{me as default};