import{i as e,n as t,p as n,st as r,t as i,u as a}from"./index-Ctf1MH19.js";function o(){let r=a(),o=e();return{login:async(e,t)=>{try{let a=await i({username:e,password:t});return o.setUserInfo(a.data),n.success(`登录成功`),r.push(`/home`),a}catch(e){throw n.error({message:`登录失败，请检查用户名和密码`,duration:1e3}),e}},logout:async()=>{await t(),o.logout(),r.push(`/`)},isLoggedIn:()=>!!o.token}}export{o as t};